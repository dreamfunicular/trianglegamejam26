[gd_scene load_steps=16 format=3 uid="uid://soq3fq6874f5"]

[ext_resource type="Script" uid="uid://biqy6yp0qk8r4" path="res://Objects/Player/player.gd" id="1_xhfnw"]
[ext_resource type="PackedScene" uid="uid://bbs4qg2o8ouf0" path="res://Objects/Player/Gannet/GannetModel.tscn" id="2_oansn"]
[ext_resource type="PackedScene" uid="uid://dd68nbxyrey6x" path="res://testing/underwater_effect.tscn" id="3_cac6a"]
[ext_resource type="Shader" uid="uid://cv0lkj0nfe1qw" path="res://Objects/Player/speedlines.gdshader" id="4_ebgc0"]
[ext_resource type="AudioStream" uid="uid://ccl872p5pftmv" path="res://audio/SFX/wing_flapping/big-flap--01.ogg" id="4_y01d7"]
[ext_resource type="AudioStream" uid="uid://dtpwp8202ba3d" path="res://audio/SFX/wing_flapping/big-flap--02.ogg" id="5_7t0p5"]
[ext_resource type="AudioStream" uid="uid://ba8cqx4iwfxlt" path="res://audio/SFX/wing_flapping/big-flap--03.ogg" id="6_ebgc0"]
[ext_resource type="AudioStream" uid="uid://r2e64jb810hj" path="res://audio/SFX/wing_flapping/big-flap--04.ogg" id="7_1ggq4"]
[ext_resource type="AudioStream" uid="uid://elw4fe3ltwiq" path="res://audio/SFX/wing_flapping/big-flap--05.ogg" id="8_q10m3"]
[ext_resource type="AudioStream" uid="uid://ciysvxgk2bn8s" path="res://audio/SFX/burst.wav" id="9_7t0p5"]

[sub_resource type="Curve" id="Curve_cac6a"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.24456522, 1), 0.0, 0.0, 0, 0, Vector2(0.4076087, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="Curve" id="Curve_y01d7"]
_data = [Vector2(0, 0), 0.0, 20.67415, 0, 0, Vector2(0.09782609, 1), 0.0, 0.0, 0, 0, Vector2(0.4076087, 0.3370787), -1.8193254, -1.8193254, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="SphereShape3D" id="SphereShape3D_0rwas"]

[sub_resource type="SphereShape3D" id="SphereShape3D_7t0p5"]
radius = 1.8347151

[sub_resource type="ShaderMaterial" id="ShaderMaterial_1ggq4"]
shader = ExtResource("4_ebgc0")
shader_parameter/Speed = 0.5
shader_parameter/LineLength = 2.0
shader_parameter/LineColor = Color(0, 0, 0, 1)
shader_parameter/Softness = 0.066000003135
shader_parameter/Weirdness = 0.1
shader_parameter/Radius = 1.4480000687799999
shader_parameter/Freq = 10.0
shader_parameter/FrameRate = 15.90000014752188

[node name="Player" type="CharacterBody3D"]
script = ExtResource("1_xhfnw")
flight_blend_path = "parameters/StateMachine/Flight/blend_position"
dive_blend_path = "parameters/StateMachine/Dive/blend_position"
air_state_playback_path = "parameters/StateMachine/playback"
flap_blend = SubResource("Curve_cac6a")
boost_blend = SubResource("Curve_y01d7")

[node name="PlayerCollision" type="CollisionShape3D" parent="."]
shape = SubResource("SphereShape3D_0rwas")

[node name="PitchPivot" type="Node3D" parent="."]

[node name="Gannet2" parent="PitchPivot" instance=ExtResource("2_oansn")]
transform = Transform3D(3, 0, 0, 0, 3, 0, 0, 0, 3, 0, 0, 0)

[node name="Placeholder" type="CSGCombiner3D" parent="PitchPivot"]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, 0, 0, 0)
visible = false

[node name="CSGSphere3D" type="CSGSphere3D" parent="PitchPivot/Placeholder"]

[node name="CSGBox3D" type="CSGBox3D" parent="PitchPivot/Placeholder"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0020384789, 0.03024292, 0.0017485619)
size = Vector3(0.85302734, 0.04071045, 2.3759766)

[node name="CSGBox3D2" type="CSGBox3D" parent="PitchPivot/Placeholder"]
transform = Transform3D(0.87412846, 0.48569477, 0, -0.48569477, 0.87412846, 0, 0, 0, 1, -0.57196504, 0.15673226, 0.04960674)
size = Vector3(1, 0.119140625, 0.65148926)

[node name="CSGBox3D3" type="CSGBox3D" parent="PitchPivot/Placeholder"]
transform = Transform3D(0.5720315, -0.54336494, 0.6144384, 0.3702479, 0.8394966, 0.3976958, -0.7319129, 0, 0.6813982, 0.40993732, -0.01954028, 0.007499419)
size = Vector3(0.18157959, 0.1998291, 0.17633057)

[node name="Camera3D" type="Camera3D" parent="PitchPivot"]
transform = Transform3D(1, 0, 0, 0, 0.96436375, 0.26458007, 0, -0.26458007, 0.96436375, 0, 1.32073, 2.3804674)
current = true

[node name="Area3D" type="Area3D" parent="PitchPivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.0176677)

[node name="CollisionShape3D" type="CollisionShape3D" parent="PitchPivot/Area3D"]
shape = SubResource("SphereShape3D_7t0p5")

[node name="UnderwaterEffect" parent="." instance=ExtResource("3_cac6a")]

[node name="ColorRect" type="ColorRect" parent="UnderwaterEffect"]
material = SubResource("ShaderMaterial_1ggq4")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="BirdSounds" type="Node3D" parent="."]

[node name="Flap" type="Node3D" parent="BirdSounds"]

[node name="Flap1" type="AudioStreamPlayer3D" parent="BirdSounds/Flap"]
stream = ExtResource("4_y01d7")

[node name="Flap2" type="AudioStreamPlayer3D" parent="BirdSounds/Flap"]
stream = ExtResource("5_7t0p5")

[node name="Flap3" type="AudioStreamPlayer3D" parent="BirdSounds/Flap"]
stream = ExtResource("6_ebgc0")

[node name="Flap4" type="AudioStreamPlayer3D" parent="BirdSounds/Flap"]
stream = ExtResource("7_1ggq4")

[node name="Flap5" type="AudioStreamPlayer3D" parent="BirdSounds/Flap"]
stream = ExtResource("8_q10m3")

[node name="Burst Hit Noise" type="AudioStreamPlayer3D" parent="BirdSounds"]
stream = ExtResource("9_7t0p5")
volume_db = -23.361

[connection signal="body_entered" from="PitchPivot/Area3D" to="." method="_on_area_3d_body_entered"]
